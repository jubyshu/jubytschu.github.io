---
layout: post
title: 一键下载豆瓣影人图片
date: 2019-09-05 20:40
categories: essay
tags: 好玩 工具
---

自学R已经几个月了，由于是兴趣导向而不是需求导向，虽说比起当初懂得了不少知识，但仍难以用来做一些有用的事。我的编程基础非常薄弱，理论也鲜有所知，不知道可以做什么项目，大概也做不了什么项目，只能画个图或者写点简单的小玩意自娱自乐了。

R可以用来爬虫，虽说不如Python便捷高效，但对我来说也够用了。很奇怪，普遍认为R是一门奇怪的语言，学习曲线更为陡峭，但我却觉得它比Python简单。之前，我只会抓取一些简单的静态网页，现在可以利用Selenium登录微博来下载用户的相册了。

昨晚，闲来无事写了个简陋且没有什么实用性的小工具，[通过输入豆瓣影人的ID一键下载他们的图片](https://jubyr.shinyapps.io/dbmovie/)。思路很简单：首先使用爬虫获取每张图片的链接，然后将其下载到一个文件夹中并压缩，最后提供压缩文件的下载选项。在使用时，用户需要填写两项内容，一个是影人的ID，一个是下载前几页图片，这都可以从豆瓣上找到。比如英格丽·褒曼的ID是*1049566*，她的图片共有10页，默认只下载第1页的图片。我自己写着玩的，在对页数的处理上比较粗糙，如果没有或者超出页数大概都会出错。另外，在点击下载按钮后，程序要先下载图片，这一过程耗时较长，而页面上又没有相应的提示，只有在压缩完成后才真正开始下载。

代码比较简单，如下所示：
<script src="https://gist.github.com/jubyshu/972f6e1e70ef8364fbb6d820a8b40dd0.js"></script>
